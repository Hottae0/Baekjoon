name: Update Solved Problems
on:
  workflow_dispatch:
  schedule:
    - cron: "0 15 * * *"

jobs:
  update-readme:
    runs-on: ubuntu-latest
    steps:
      # 1. ë‚´ ì €ì¥ì†Œì˜ ì½”ë“œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
      - name: Checkout
        uses: actions/checkout@v3

      # 2. Python í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤.
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      # 3. ìŠ¤í¬ë¦½íŠ¸ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
      - name: Install dependencies
        run: pip install requests beautifulsoup4 pandas

      # 4. ë‚´ê°€ ë§Œë“  Python ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
      - name: Run scraper
        run: python scraper.py

      # 5. ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ìœ¼ë¡œ ë³€ê²½ëœ README.md íŒŒì¼ì„ ì €ì¥ì†Œì— ë‹¤ì‹œ ì»¤ë°‹í•©ë‹ˆë‹¤.
      - name: Commit and push if changed
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ğŸ† chore: Solved problem list updated"
          file_pattern: README.md
